function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function e(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s={Shafi:"shafi",Hanafi:"hanafi"};var o={MiddleOfTheNight:"middleofthenight",SeventhOfTheNight:"seventhofthenight",TwilightAngle:"twilightangle",recommended:function(t){return t.latitude>48?o.SeventhOfTheNight:o.MiddleOfTheNight}},h=a((function t(e,r){n(this,t),this.latitude=e,this.longitude=r})),u={Nearest:"nearest",Up:"up",None:"none"};function l(t,e){var n=t.getFullYear(),r=t.getMonth(),a=t.getDate()+e,i=t.getHours(),s=t.getMinutes(),o=t.getSeconds();return new Date(n,r,a,i,s,o)}function c(t,e){return d(t,60*e)}function d(t,e){return new Date(t.getTime()+1e3*e)}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.Nearest,n=t.getUTCSeconds(),r=n>=30?60-n:-1*n;return e===u.Up?r=60-n:e===u.None&&(r=0),d(t,r)}function f(t){for(var e=0,n=[31,A.isLeapYear(t.getFullYear())?29:28,31,30,31,30,31,31,30,31,30,31],r=0;r<t.getMonth();r++)e+=n[r];return e+=t.getDate()}function m(t){return t instanceof Date&&!isNaN(t.valueOf())}function M(t){return t*Math.PI/180}function v(t){return 180*t/Math.PI}function p(t,e){return t-e*Math.floor(t/e)}function b(t){return p(t,360)}var w={General:"general",Ahmer:"ahmer",Abyad:"abyad"},A={meanSolarLongitude:function(t){var e=t;return b(280.4664567+36000.76983*e+3032e-7*Math.pow(e,2))},meanLunarLongitude:function(t){return b(218.3165+481267.8813*t)},ascendingLunarNodeLongitude:function(t){var e=t;return b(125.04452-1934.136261*e+.0020708*Math.pow(e,2)+Math.pow(e,3)/45e4)},meanSolarAnomaly:function(t){var e=t;return b(357.52911+35999.05029*e-1537e-7*Math.pow(e,2))},solarEquationOfTheCenter:function(t,e){var n=t,r=M(e);return(1.914602-.004817*n-14e-6*Math.pow(n,2))*Math.sin(r)+(.019993-101e-6*n)*Math.sin(2*r)+289e-6*Math.sin(3*r)},apparentSolarLongitude:function(t,e){var n=t,r=125.04-1934.136*n;return b(e+A.solarEquationOfTheCenter(n,A.meanSolarAnomaly(n))-.00569-.00478*Math.sin(M(r)))},meanObliquityOfTheEcliptic:function(t){var e=t;return 23.439291-.013004167*e-1.639e-7*Math.pow(e,2)+5.036e-7*Math.pow(e,3)},apparentObliquityOfTheEcliptic:function(t,e){var n=125.04-1934.136*t;return e+.00256*Math.cos(M(n))},meanSiderealTime:function(t){var e=t;return b(280.46061837+360.98564736629*(36525*e+2451545-2451545)+387933e-9*Math.pow(e,2)-Math.pow(e,3)/3871e4)},nutationInLongitude:function(t,e,n,r){var a=e,i=n,s=r;return-17.2/3600*Math.sin(M(s))-1.32/3600*Math.sin(2*M(a))-.23/3600*Math.sin(2*M(i))+.21/3600*Math.sin(2*M(s))},nutationInObliquity:function(t,e,n,r){var a=e,i=n,s=r;return 9.2/3600*Math.cos(M(s))+.57/3600*Math.cos(2*M(a))+.1/3600*Math.cos(2*M(i))-.09/3600*Math.cos(2*M(s))},altitudeOfCelestialBody:function(t,e,n){var r=t,a=e,i=n,s=Math.sin(M(r))*Math.sin(M(a)),o=Math.cos(M(r))*Math.cos(M(a))*Math.cos(M(i));return v(Math.asin(s+o))},approximateTransit:function(t,e,n){return p((n+-1*t-e)/360,1)},correctedTransit:function(t,e,n,r,a,i){var s,o=t,h=r,u=a,l=i,c=-1*e,d=b(n+360.985647*o),g=b(A.interpolateAngles(h,u,l,o));return 24*(o+((s=d-c-g)>=-180&&s<=180?s:s-360*Math.round(s/360))/-360)},correctedHourAngle:function(t,e,n,r,a,i,s,o,h,u,l){var c=t,d=e,g=a,f=i,m=s,p=o,w=h,j=u,T=l,S=-1*n.longitude,y=Math.sin(M(d))-Math.sin(M(n.latitude))*Math.sin(M(w)),O=Math.cos(M(n.latitude))*Math.cos(M(w)),D=v(Math.acos(y/O)),N=r?c+D/360:c-D/360,L=b(g+360.985647*N),P=b(A.interpolateAngles(f,m,p,N)),Y=A.interpolate(w,j,T,N),F=L-S-P;return 24*(N+(A.altitudeOfCelestialBody(n.latitude,Y,F)-d)/(360*Math.cos(M(Y))*Math.cos(M(n.latitude))*Math.sin(M(F))))},interpolate:function(t,e,n,r){var a=t-e,i=n-t;return t+r/2*(a+i+r*(i-a))},interpolateAngles:function(t,e,n,r){var a=b(t-e),i=b(n-t);return t+r/2*(a+i+r*(i-a))},julianDay:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=Math.trunc,i=a(e>2?t:t-1),s=a(e>2?e:e+12),o=n+r/24,h=a(i/100),u=a(2-h+a(h/4)),l=a(365.25*(i+4716)),c=a(30.6001*(s+1));return l+c+o+u-1524.5},julianCentury:function(t){return(t-2451545)/36525},isLeapYear:function(t){return t%4==0&&(t%100!=0||t%400==0)},seasonAdjustedMorningTwilight:function(t,e,n,r){var a,i=75+28.65/55*Math.abs(t),s=75+19.44/55*Math.abs(t),o=75+32.74/55*Math.abs(t),h=75+48.1/55*Math.abs(t),u=(a=A.daysSinceSolstice(e,n,t))<91?i+(s-i)/91*a:a<137?s+(o-s)/46*(a-91):a<183?o+(h-o)/46*(a-137):a<229?h+(o-h)/46*(a-183):a<275?o+(s-o)/46*(a-229):s+(i-s)/91*(a-275);return d(r,Math.round(-60*u))},seasonAdjustedEveningTwilight:function(t,e,n,r,a){var i,s,o,h;a===w.Ahmer?(i=62+17.4/55*Math.abs(t),s=62-7.16/55*Math.abs(t),o=62+5.12/55*Math.abs(t),h=62+19.44/55*Math.abs(t)):a===w.Abyad?(i=75+25.6/55*Math.abs(t),s=75+7.16/55*Math.abs(t),o=75+36.84/55*Math.abs(t),h=75+1.488*Math.abs(t)):(i=75+25.6/55*Math.abs(t),s=75+2.05/55*Math.abs(t),o=75-9.21/55*Math.abs(t),h=75+6.14/55*Math.abs(t));var u,l=(u=A.daysSinceSolstice(e,n,t))<91?i+(s-i)/91*u:u<137?s+(o-s)/46*(u-91):u<183?o+(h-o)/46*(u-137):u<229?h+(o-h)/46*(u-183):u<275?o+(s-o)/46*(u-229):s+(i-s)/91*(u-275);return d(r,Math.round(60*l))},daysSinceSolstice:function(t,e,n){var r=0,a=A.isLeapYear(e)?173:172,i=A.isLeapYear(e)?366:365;return n>=0?(r=t+10,r>=i&&(r-=i)):(r=t-a,r<0&&(r+=i)),r}},j=a((function t(e){n(this,t);var r=A.julianCentury(e),a=A.meanSolarLongitude(r),i=A.meanLunarLongitude(r),s=A.ascendingLunarNodeLongitude(r),o=M(A.apparentSolarLongitude(r,a)),h=A.meanSiderealTime(r),u=A.nutationInLongitude(r,a,i,s),l=A.nutationInObliquity(r,a,i,s),c=A.meanObliquityOfTheEcliptic(r),d=M(A.apparentObliquityOfTheEcliptic(r,c));this.declination=v(Math.asin(Math.sin(d)*Math.sin(o))),this.rightAscension=b(v(Math.atan2(Math.cos(d)*Math.sin(o),Math.cos(o)))),this.apparentSiderealTime=h+3600*u*Math.cos(M(c+l))/3600})),T=function(){function t(e,r){n(this,t);var a=A.julianDay(e.getFullYear(),e.getMonth()+1,e.getDate(),0);this.observer=r,this.solar=new j(a),this.prevSolar=new j(a-1),this.nextSolar=new j(a+1);var i=A.approximateTransit(r.longitude,this.solar.apparentSiderealTime,this.solar.rightAscension),s=-50/60;this.approxTransit=i,this.transit=A.correctedTransit(i,r.longitude,this.solar.apparentSiderealTime,this.solar.rightAscension,this.prevSolar.rightAscension,this.nextSolar.rightAscension),this.sunrise=A.correctedHourAngle(i,s,r,!1,this.solar.apparentSiderealTime,this.solar.rightAscension,this.prevSolar.rightAscension,this.nextSolar.rightAscension,this.solar.declination,this.prevSolar.declination,this.nextSolar.declination),this.sunset=A.correctedHourAngle(i,s,r,!0,this.solar.apparentSiderealTime,this.solar.rightAscension,this.prevSolar.rightAscension,this.nextSolar.rightAscension,this.solar.declination,this.prevSolar.declination,this.nextSolar.declination)}return a(t,[{key:"hourAngle",value:function(t,e){return A.correctedHourAngle(this.approxTransit,t,this.observer,e,this.solar.apparentSiderealTime,this.solar.rightAscension,this.prevSolar.rightAscension,this.nextSolar.rightAscension,this.solar.declination,this.prevSolar.declination,this.nextSolar.declination)}},{key:"afternoon",value:function(t){var e=Math.abs(this.observer.latitude-this.solar.declination),n=t+Math.tan(M(e)),r=v(Math.atan(1/n));return this.hourAngle(r,!0)}}]),t}(),S={AqrabBalad:"AqrabBalad",AqrabYaum:"AqrabYaum",Unresolved:"Unresolved"},y=function(t){return!isNaN(t.sunrise)&&!isNaN(t.sunset)},O=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(r>Math.ceil(182.5))return null;var i=new Date(n.getTime());i.setDate(i.getDate()+a*r);var s=l(i,1),o=new T(i,e),h=new T(s,e);return y(o)&&y(h)?{date:n,tomorrow:s,coordinates:e,solarTime:o,tomorrowSolarTime:h}:t(e,n,r+(a>0?0:1),-a)},D=function t(n,r,a){var i=new T(r,e(e({},n),{},{latitude:a})),s=l(r,1),o=new T(s,e(e({},n),{},{latitude:a}));return y(i)&&y(o)?{date:r,tomorrow:s,coordinates:new h(a,n.longitude),solarTime:i,tomorrowSolarTime:o}:Math.abs(a)>=65?t(n,r,a-.5*Math.sign(a)):null},N=function(t,e,n){var r={date:e,tomorrow:l(e,1),coordinates:n,solarTime:new T(e,n),tomorrowSolarTime:new T(l(e,1),n)};switch(t){case S.AqrabYaum:return O(n,e)||r;case S.AqrabBalad:var a=n.latitude;return D(n,e,a-.5*Math.sign(a))||r;default:return r}},L=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;n(this,t),i(this,"madhab",s.Shafi),i(this,"highLatitudeRule",o.MiddleOfTheNight),i(this,"adjustments",{fajr:0,sunrise:0,dhuhr:0,asr:0,maghrib:0,isha:0}),i(this,"methodAdjustments",{fajr:0,sunrise:0,dhuhr:0,asr:0,maghrib:0,isha:0}),i(this,"polarCircleResolution",S.Unresolved),i(this,"rounding",u.Nearest),i(this,"shafaq",w.General),this.method=e,this.fajrAngle=r,this.ishaAngle=a,this.ishaInterval=h,this.maghribAngle=l,null===this.method&&(this.method="Other")}return a(t,[{key:"nightPortions",value:function(){switch(this.highLatitudeRule){case o.MiddleOfTheNight:return{fajr:.5,isha:.5};case o.SeventhOfTheNight:return{fajr:1/7,isha:1/7};case o.TwilightAngle:return{fajr:this.fajrAngle/60,isha:this.ishaAngle/60};default:throw"Invalid high latitude rule found when attempting to compute night portions: ".concat(this.highLatitudeRule)}}}]),t}(),P={MuslimWorldLeague:function(){var t=new L("MuslimWorldLeague",18,17);return t.methodAdjustments.dhuhr=1,t},Egyptian:function(){var t=new L("Egyptian",19.5,17.5);return t.methodAdjustments.dhuhr=1,t},Karachi:function(){var t=new L("Karachi",18,18);return t.methodAdjustments.dhuhr=1,t},UmmAlQura:function(){return new L("UmmAlQura",18.5,0,90)},Dubai:function(){var t=new L("Dubai",18.2,18.2);return t.methodAdjustments=e(e({},t.methodAdjustments),{},{sunrise:-3,dhuhr:3,asr:3,maghrib:3}),t},MoonsightingCommittee:function(){var t=new L("MoonsightingCommittee",18,18);return t.methodAdjustments=e(e({},t.methodAdjustments),{},{dhuhr:5,maghrib:3}),t},NorthAmerica:function(){var t=new L("NorthAmerica",15,15);return t.methodAdjustments.dhuhr=1,t},Kuwait:function(){return new L("Kuwait",18,17.5)},Qatar:function(){return new L("Qatar",18,0,90)},Singapore:function(){var t=new L("Singapore",20,18);return t.methodAdjustments.dhuhr=1,t.rounding=u.Up,t},Tehran:function(){return new L("Tehran",17.7,14,0,4.5)},Turkey:function(){var t=new L("Turkey",18,17);return t.methodAdjustments=e(e({},t.methodAdjustments),{},{sunrise:-7,dhuhr:5,asr:4,maghrib:7}),t},Other:function(){return new L("Other",0,0)}},Y={Fajr:"fajr",Sunrise:"sunrise",Dhuhr:"dhuhr",Asr:"asr",Maghrib:"maghrib",Isha:"isha",None:"none"},F=function(){function t(e){return n(this,t),this.hours=Math.floor(e),this.minutes=Math.floor(60*(e-this.hours)),this.seconds=Math.floor(60*(e-(this.hours+this.minutes/60))*60),this}return a(t,[{key:"utcDate",value:function(t,e,n){return new Date(Date.UTC(t,e,n,this.hours,this.minutes,this.seconds))}}]),t}(),C=function(){function t(e,r,a){n(this,t),this.coordinates=e,this.date=r,this.calculationParameters=a;var i,o,h,u,M,v,p,b=new T(r,e);h=new F(b.transit).utcDate(r.getFullYear(),r.getMonth(),r.getDate()),o=new F(b.sunrise).utcDate(r.getFullYear(),r.getMonth(),r.getDate()),M=new F(b.sunset).utcDate(r.getFullYear(),r.getMonth(),r.getDate());var w=l(r,1),j=new T(w,e),y=a.polarCircleResolution;if((!m(o)||!m(M)||isNaN(j.sunrise))&&y!==S.Unresolved){var O,D,L,P=N(y,r,e);b=P.solarTime,j=P.tomorrowSolarTime;var Y=[r.getFullYear(),r.getMonth(),r.getDate()];h=(O=new F(b.transit)).utcDate.apply(O,Y),o=(D=new F(b.sunrise)).utcDate.apply(D,Y),M=(L=new F(b.sunset)).utcDate.apply(L,Y)}u=new F(b.afternoon(function(t){switch(t){case s.Shafi:return 1;case s.Hanafi:return 2;default:throw"Invalid Madhab"}}(a.madhab))).utcDate(r.getFullYear(),r.getMonth(),r.getDate());var C=new F(j.sunrise).utcDate(w.getFullYear(),w.getMonth(),w.getDate()),q=(Number(C)-Number(M))/1e3;i=new F(b.hourAngle(-1*a.fajrAngle,!1)).utcDate(r.getFullYear(),r.getMonth(),r.getDate()),"MoonsightingCommittee"===a.method&&e.latitude>=55&&(i=d(o,-(q/7)));var I=function(){if("MoonsightingCommittee"===a.method)return A.seasonAdjustedMorningTwilight(e.latitude,f(r),r.getFullYear(),o);var t=a.nightPortions().fajr;return d(o,-(t*q))}();if((isNaN(i.getTime())||I>i)&&(i=I),a.ishaInterval>0)p=c(M,a.ishaInterval);else{p=new F(b.hourAngle(-1*a.ishaAngle,!0)).utcDate(r.getFullYear(),r.getMonth(),r.getDate()),"MoonsightingCommittee"===a.method&&e.latitude>=55&&(p=d(M,q/7));var x=function(){if("MoonsightingCommittee"===a.method)return A.seasonAdjustedEveningTwilight(e.latitude,f(r),r.getFullYear(),M,a.shafaq);var t=a.nightPortions().isha;return d(M,t*q)}();(isNaN(p.getTime())||x<p)&&(p=x)}if(v=M,a.maghribAngle){var E=new F(b.hourAngle(-1*a.maghribAngle,!0)).utcDate(r.getFullYear(),r.getMonth(),r.getDate());M<E&&p>E&&(v=E)}var k=(a.adjustments.fajr||0)+(a.methodAdjustments.fajr||0),U=(a.adjustments.sunrise||0)+(a.methodAdjustments.sunrise||0),H=(a.adjustments.dhuhr||0)+(a.methodAdjustments.dhuhr||0),B=(a.adjustments.asr||0)+(a.methodAdjustments.asr||0),Q=(a.adjustments.maghrib||0)+(a.methodAdjustments.maghrib||0),R=(a.adjustments.isha||0)+(a.methodAdjustments.isha||0);this.fajr=g(c(i,k),a.rounding),this.sunrise=g(c(o,U),a.rounding),this.dhuhr=g(c(h,H),a.rounding),this.asr=g(c(u,B),a.rounding),this.sunset=g(M,a.rounding),this.maghrib=g(c(v,Q),a.rounding),this.isha=g(c(p,R),a.rounding)}return a(t,[{key:"timeForPrayer",value:function(t){return t===Y.Fajr?this.fajr:t===Y.Sunrise?this.sunrise:t===Y.Dhuhr?this.dhuhr:t===Y.Asr?this.asr:t===Y.Maghrib?this.maghrib:t===Y.Isha?this.isha:null}},{key:"currentPrayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return t>=this.isha?Y.Isha:t>=this.maghrib?Y.Maghrib:t>=this.asr?Y.Asr:t>=this.dhuhr?Y.Dhuhr:t>=this.sunrise?Y.Sunrise:t>=this.fajr?Y.Fajr:Y.None}},{key:"nextPrayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return t>=this.isha?Y.None:t>=this.maghrib?Y.Isha:t>=this.asr?Y.Maghrib:t>=this.dhuhr?Y.Asr:t>=this.sunrise?Y.Dhuhr:t>=this.fajr?Y.Sunrise:Y.Fajr}}]),t}();function q(t){var e=new h(21.4225241,39.8261818),n=Math.sin(M(e.longitude)-M(t.longitude)),r=Math.cos(M(t.latitude))*Math.tan(M(e.latitude)),a=Math.sin(M(t.latitude))*Math.cos(M(e.longitude)-M(t.longitude));return b(v(Math.atan2(n,r-a)))}var I=a((function t(e){n(this,t);var r=l(e.date,1),a=(new C(e.coordinates,r,e.calculationParameters).fajr.getTime()-e.maghrib.getTime())/1e3;this.middleOfTheNight=g(d(e.maghrib,a/2)),this.lastThirdOfTheNight=g(d(e.maghrib,a*(2/3)))}));export{P as CalculationMethod,L as CalculationParameters,h as Coordinates,o as HighLatitudeRule,s as Madhab,S as PolarCircleResolution,Y as Prayer,C as PrayerTimes,q as Qibla,u as Rounding,w as Shafaq,I as SunnahTimes};
//# sourceMappingURL=adhan.esm.min.js.map
